<template>
  <img src="../../../assets/shapes/wave-primary-500.svg" class="w-full -mb-1">

  <div class="flex flex-col items-center bg-gradient-to-t from-secondary-400 to-primary-500 px-4 sm:px-16 md:px-32">
    <div class="text-white text-3xl sm:text-5xl font-extrabold">Je suis ?</div>

    <div class="mt-6 sm:mt-12">
      <button-toggle
        :color="Colors.LIGHT"
        :items="buttonToggleItems"
        :initial-value="activeRole"
        :on-select="onSelectRole"
      ></button-toggle>
    </div>

    <div class="text-white max-w-lg text-center font-light mt-6 sm:mt-12">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer fringilla augue hendrerit est congue pulvinar.
    </div>

    <div class="flex flex-col md:flex-row space-y-12 md:space-y-0 md:space-x-12 mt-6 sm:mt-12 -mb-12">
      <roles-overview-card class="flex-1" v-for="(item, index) in items[activeRole]">
        <template v-slot:badge>{{ index + 1 }}</template>
        <template v-slot:title>{{ item.title }}</template>
        <template v-slot:content>
          {{ item.content }}
        </template>
      </roles-overview-card>
    </div>
  </div>

  <img src="../../../assets/shapes/wave-secondary-400.svg" class="w-full -mt-1 transform rotate-180 relative -z-10">
</template>

<script lang="ts">
import { defineComponent } from 'vue';
import ButtonToggle from '../../molecules/button-toggle/ButtonToggle.vue';
import { Colors } from '../../utils';
import { breedingOverviewItems, familyOverviewItems } from './roles-overview.utils';
import RolesOverviewCard from './RolesOverviewCard.vue';

export default defineComponent({
  name: 'roles-overview',
  components: { RolesOverviewCard, ButtonToggle },

  data() {
    return {
      Colors: Colors,
      items: {
        breeding: breedingOverviewItems,
        family: familyOverviewItems,
      },
      buttonToggleItems: [
        {
          value: 'breeding',
          label: "Un Ã©levage",
        },
        {
          value: 'family',
          label: "Une famille",
        },
      ],
      activeRole: 'breeding',
    };
  },
  methods: {
    onSelectRole(role: string) {
      this.activeRole = role;
    }
  },
});
</script>
